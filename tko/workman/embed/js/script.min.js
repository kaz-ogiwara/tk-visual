function addCommas(a){return String(a).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")}function getPopupContent(a){var t=a[0];"ワークマンプラス"!=a[0].substr(0,8)&&(t="ワークマン "+t);var e='<div class="name">'+t+'</div><div class="address">'+a[1]+"</div>";return""!=a[2]&&(e+='<div class="toopen">'+a[2]+"</div>"),e}var kMap=L.map("map").setView([35.679,139.832],10),kMarkers=[];L.tileLayer("https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, Tiles courtesy of <a href="http://hot.openstreetmap.org/" target="_blank">Humanitarian OpenStreetMap Team</a>',maxZoom:16,minZoom:6}).addTo(kMap),$.ajaxSetup({cache:!1}),$.getJSON("data/data.json",function(a){$.each(a,function(a,t){var e="shop";"ワークマンプラス"===t[0].substr(0,8)&&(e+=" plus"),kMarkers[a]=L.marker([t[3],t[4]],{icon:L.divIcon({className:e})}).addTo(kMap).bindPopup(getPopupContent(t))})});